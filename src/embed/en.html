
<!DOCTYPE html>
<html>
<head>
  <title>English Assessment Embed</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Preconnect to known domains -->
  <link rel="preconnect" href="https://mood-navigator-assessment.lovable.app">
  <!-- Disable automatic phone number detection to speed up iOS rendering -->
  <meta name="format-detection" content="telephone=no">
  <!-- Prevent page reload dialogs -->
  <script>
    window.addEventListener('load', () => {
      // Remove any existing beforeunload listeners
      window.onbeforeunload = null;
      // Prevent adding new ones
      window.addEventListener('beforeunload', (e) => {
        e.preventDefault();
        e.returnValue = '';
      });
    });
  </script>
</head>
<body style="margin:0;padding:0;overflow:hidden;">
  <div style="position: relative;">
    <iframe 
      id="assessment"
      src="https://mood-navigator-assessment.lovable.app/login/en"
      width="100%" 
      height="800"
      loading="eager"
      importance="high"
      style="border:none;width:100%;height:100vh"
      allow="fullscreen"
    ></iframe>
  </div>
  
  <!-- Removed console.log for production -->
  <script>
    // Handle language parameter efficiently
    const params = new URLSearchParams(window.location.search);
    const lang = params.get('lang');
    
    if (lang) {
      document.getElementById('assessment').src = 
        `https://mood-navigator-assessment.lovable.app/login/${lang}`;
    }
  </script>
</body>
</html>
