
<!DOCTYPE html>
<html>
<head>
  <title>繁體中文評估嵌入</title>
  <meta charset="UTF-8">
  <script>
    // Get the base URL from where this embed is being served
    const baseUrl = new URL(document.baseURI).origin;
    // Your application's actual domain
    const appDomain = "https://mood-navigator-assessment.lovable.app";
    
    // Function to create a direct access link
    function createDirectAccessLink(email, language = 'zh-hk') {
      // Create a simple token by encoding the email and timestamp
      const simpleToken = btoa(`${email}:${Date.now()}`);
      
      // Return the formatted URL
      return `${appDomain}/easy-access?token=${simpleToken}&email=${encodeURIComponent(email)}&lang=${language}`;
    }
    
    // Function to initiate quick access
    function quickAccess() {
      const testEmail = prompt("輸入電子郵件以訪問繁體中文評估:", "user@example.com");
      if (testEmail) {
        const accessLink = createDirectAccessLink(testEmail, 'zh-hk');
        window.location.href = accessLink;
      }
    }
  </script>
</head>
<body style="margin:0;padding:0;overflow:hidden;">
  <div style="position: relative;">
    <iframe 
      id="assessment"
      src="https://mood-navigator-assessment.lovable.app/login/zh-hk"
      width="100%" 
      height="800"
      frameborder="0"
      allow="fullscreen"
    ></iframe>
    
    <button 
      onclick="quickAccess()" 
      style="position: absolute; top: 10px; right: 10px; z-index: 1000; background: #4f46e5; color: white; border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer;"
    >
      快速訪問
    </button>
  </div>
</body>
</html>
